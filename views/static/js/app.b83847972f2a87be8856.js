webpackJsonp([0,2],[,function(t,e,a){a(11);var n=a(0)(a(3),a(15),null,null);t.exports=n.exports},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(13),i=a.n(n),o=a(9),s=(a.n(o),a(10));a.n(s);e.default={name:"app",components:{Poem:i.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),i=a.n(n),o=a(14),s=a.n(o);e.default={name:"poem",data:function(){return{wordlist:[],canvas:{}}},components:{Word:s.a},mounted:function(){var t=this;this.canvas=new fabric.Canvas("canvas"),this.canvas.backgroundColor="white",this.changeBG(),this.canvas.on("mouse:down",function(e){if(null===e.target){var a=(new Date).getTime(),n=t.lastTouch||a+1,i=a-n;i<300&&i>0?(t.lastTouch=null,t.addWord("random",t.canvas.getPointer(e.e))):t.lastTouch=a}})},methods:{addWord:function(t,e){if("random"===t){var a=["adjectives","verbs","substantives","misc"],n=a[Math.floor(Math.random()*a.length)];this.wordlist.push({type:n,startPos:e})}else this.wordlist.push({type:t,startPos:e})},saveCanvas:function(){window.open(this.canvas.toDataURL("png"))},exportCanvas:function(){var t=i()(this.canvas);console.log(t)},changeBG:function(){var t="../static/"+Math.floor(1+10*Math.random())+".jpg",e=this;fabric.Image.fromURL(t,function(t){e.canvas.backgroundImage=t,e.canvas.backgroundImage.width=800,e.canvas.backgroundImage.height=600,e.canvas.renderAll()})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={adjectives:["kaunis","vihreä","runsas","kuulas","viileä","kultainen","synkkä","herkkä","rehevä","kellertävä","kuulas","herkkä","elegantti","multainen","erityinen","ainutlaatuinen","energinen","tuoksuva","kasvava","elävä","voimakas","rehevä","räjähtävä","hiuksenhieno","tummanvihreä","keväänvihreä","taivaansininen","hämärä","synkkä","musta","tumma","kylmä","viileä","kostea","multaisa","huojuva","karhea","ainutlaatuinen","miehekäs","naisellinen","koskettava","pistelevä","kasvava","kuhiseva","kirkas","ainoa","ajankohtainen","kahiseva","riipaiseva","runollinen","uskalias","ujo","satumainen","aavemainen","autio","yksinäinen","tyhjä","punertava","maukas","kypsyvä","ikivanha","aava","aakea","hiljainen","koskematon","hengellinen","antoisa","kallisarvoinen","suomalainen","kotimainen","luonnollinen","terveellinen","kaiho","surullinen","uupunut","vilkas","nöyrä"],verbs:["poimia","paistaa","kaatua","kasvaa","herätä","nousta","koittaa","uskaltaa","mennä","antaa","joustaa","elää","nukkua","painautua","koskettaa","kuulla","unohtaa","muistaa","kasvattaa","juosta","kuultaa","paistaa","mennä","laulaa","kuulla","rentoutua","nauttia","syödä","kerätä","kulkea","vaeltaa","hengähtää","tuntea","katsoa","tarkkailla","kuunnella","huutaa","piiloutua","kadota","hämärtyä","kadottaa","piilottaa","löytää","poimia","kurottaa","käpertyä","istahtaa","istua","kulkea","taivaltaa","lipua","hidastella","kiiruhtaa","hiljentyä","jäljittää","tuudittaa","irroittaa","havista","visertää","ulvoa","kohista","sataa","myrskytä"],substantives:["koivu","mänty","metsä","honka","petäjä","kangas","sammal","oksa","käpy","sieni","lehti","marja","luonto","elämä","syksy","kevät","kesä","talvi","hanki","lumi","jälki","orava","eläin","jänis","hirvi","poro","karhu","otso","kallio","kivi","ravinto","henki","kehto","lapsi","poikanen","susi","muurahainen","kanto","eväät","termospullo","neulanen","korpi","metso","teeri","karpalo","puolukka","mustikka","kukka","nuppu","aromi","auringonvalo","sade","usva","halla","tihku","sumu","kumisaappaat","kyy","lintu","eläin","tiainen","korppi","sammal","koski","pelto","laakso","vaara","pesä","koti","kolo","vuori","muisto","hetki","tuoksu","savi","kangas","aurinko","kuu","tähdet","taivas","pilvet","suo","räme","oja"],misc:["jos","joskus","kerran","aina","missä","siellä","kenet","miksi","emme","voi","minut","sinut","meidät","teidät","heidät","kenen","ainoa","mennyt","tuleva","ken","vaikka","kuin","kunnes","asti","joku","jonkun","jotain","jollei","minne","milloin","silloin","siellä","sinne","siksi","miksi","miksei","on","eilinen","tänään","ikuinen","aina","ehkei","ei","kyllä","ehkä","jopa","kuin"]};e.default={name:"word",data:function(){return{word:"init",textElement:{},controlElement:{},elementGroup:{}}},props:["type","canvas"],created:function(){var t=this;this.word=n[this.type.type][Math.floor(Math.random()*n[this.type.type].length)],this.textElement=new fabric.IText(this.word,{left:t.type.startPos.x,top:t.type.startPos.y,textBackgroundColor:"rgb(0,0,0)",fill:"rgb(255,255,255)",fontFamily:"Courier",angle:10-20*Math.random()}),this.controlElement=new fabric.Text("Uusi\nsana",{fill:"#28b",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.removalElement=new fabric.Text("Poista\nsana",{fill:"#F00",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.canvas.add(this.textElement),this.canvas.add(this.controlElement),this.canvas.add(this.removalElement),this.moveControlElementsTo(this.textElement),this.canvas.renderAll(),this.canvas.on("object:moving",function(e){e.target===t.textElement&&t.moveControlElementsTo(e.target)}),this.canvas.on("object:rotating",function(e){e.target===t.textElement&&(t.controlElement.setVisible(!1),t.removalElement.setVisible(!1))}),this.canvas.on("mouse:down",function(e){e.target===t.controlElement?t.refresh():e.target===t.removalElement?(t.textElement.remove(),t.controlElement.remove(),t.removalElement.remove()):e.target===t.textElement?(t.controlElement.setVisible(!0),t.removalElement.setVisible(!0)):(t.controlElement.setVisible(!1),t.removalElement.setVisible(!1))}),this.canvas.on("object:selected",function(e){e.target===t.textElement&&(t.controlElement.setVisible(!0),t.removalElement.setVisible(!0))})},methods:{refresh:function(){var t=["adjectives","verbs","substantives","misc"],e=t[Math.floor(Math.random()*t.length)];this.word=n[e][Math.floor(Math.random()*n[e].length)],this.textElement.setText(this.word),this.canvas.renderAll()},moveControlElementsTo:function(t){this.controlElement.setLeft(t.getLeft()-80),this.controlElement.setTop(t.getTop()-40),this.controlElement.setCoords(),this.removalElement.setLeft(t.getLeft()-80),this.removalElement.setTop(t.getTop()+40),this.removalElement.setCoords(),this.canvas.renderAll()}}}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){a(12);var n=a(0)(a(4),a(17),"data-v-3822a1d1",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(5),a(16),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"two columns"}),t._v(" "),a("div",{staticClass:"eight columns"},[a("poem")],1),t._v(" "),a("div",{staticClass:"two columns"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poem twelve columns"},[a("canvas",{attrs:{id:"canvas",width:"800",height:"600"}}),t._v(" "),t._l(t.wordlist,function(e){return a("word",{attrs:{type:e,canvas:t.canvas}})}),t._v(" "),a("button",{on:{click:function(e){t.saveCanvas()}}},[t._v("Tallenna koneelle")]),t._v(" "),a("button",{on:{click:function(e){t.exportCanvas()}}},[t._v("Lähetä galleriaan")]),t._v(" "),a("button",{on:{click:function(e){t.changeBG()}}},[t._v("Vaihda taustakuva")]),t._v(" "),t._m(0)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:"https://poem-generator.s3.amazonaws.com/",method:"post",enctype:"multipart/form-data"}},[a("input",{attrs:{type:"hidden",name:"key",value:"uploads/${filename}"}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"AWSAccessKeyId",value:"AKIAI4KWRBHI5P5LPGSQ"}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"acl",value:"private"}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"success_action_redirect",value:"http://localhost/"}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"policy",value:"eyJleHBpcmF0aW9uIjogIjIwMTgtMDEtMDFUMDA6MDA6MDBaIiwNCiAgImNvbmRpdGlvbnMiOiBbDQogICAgeyJidWNrZXQiOiAicG9lbS1nZW5lcmF0b3IifSwNCiAgICBbInN0YXJ0cy13aXRoIiwgIiRrZXkiLCAidXBsb2Fkcy8iXSwNCiAgICB7ImFjbCI6ICJwcml2YXRlIn0sDQogICAgeyJzdWNjZXNzX2FjdGlvbl9yZWRpcmVjdCI6ICJodHRwOi8vbG9jYWxob3N0LyJ9LA0KICAgIFsic3RhcnRzLXdpdGgiLCAiJENvbnRlbnQtVHlwZSIsICIiXSwNCiAgICBbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwgMCwgMTA0ODU3Nl0NCiAgXQ0KfQ=="}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"signature",value:"e7tt/FdcQNtjOjiIOLDQbK3GBQA="}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"Content-Type",value:"image/jpeg"}}),t._v(" "),t._v("\n\n    File to upload to S3:\n    "),a("input",{attrs:{name:"file",type:"file"}}),t._v(" "),a("br"),t._v(" "),a("input",{attrs:{type:"submit",value:"Upload File to S3"}})])}]}},,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),i=a.n(n),o=a(1),s=a.n(o);new i.a({el:"#app",template:"<App/>",components:{App:s.a}})}],[20]);
//# sourceMappingURL=app.b83847972f2a87be8856.js.map