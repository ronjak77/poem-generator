webpackJsonp([0,2],[,function(e,n,a){a(12);var t=a(0)(a(3),a(16),null,null);e.exports=t.exports},,function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a(14),i=a.n(t),s=a(10),o=(a.n(s),a(11)),l=(a.n(o),a(9));a.n(l);n.default={name:"app",data:function(){return{lang:"FI"}},components:{Poem:i.a}}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a(6),i=a.n(t),s=a(15),o=a.n(s);n.default={name:"poem",data:function(){return{wordlist:[],canvas:{},uploading:!1,changingBG:!1}},props:{language:String},computed:{isFinnish:function(){return"FI"===this.language}},components:{Word:o.a},mounted:function(){var e=this;this.canvas=new fabric.Canvas("canvas"),this.canvas.backgroundColor="white",this.changeBG(),this.canvas.on("mouse:down",function(n){if(null===n.target){var a=(new Date).getTime(),t=e.lastTouch||a+1,i=a-t;i<300&&i>0?(e.lastTouch=null,e.addWord("random",e.canvas.getPointer(n.e))):e.lastTouch=a}})},methods:{addWord:function(e,n){if("random"===e){var a=["adjectives","verbs","substantives","misc","misc"],t=["adjectivesEng","verbsEng","substantivesEng","miscEng","miscEng"];if(this.isFinnish)var i=a;else var i=t;var s=i[Math.floor(Math.random()*i.length)];this.wordlist.push({type:s,startPos:n})}else this.wordlist.push({type:e,startPos:n})},saveCanvas:function(){var e=this;e.uploading=!0;var n=this.canvas.toDataURL("png"),a=new XMLHttpRequest;a.open("POST","upload",!0),a.setRequestHeader("Content-type","application/json"),a.onload=function(){200===a.status?alert("Uploaded ok"):alert("An error occurred!"),e.uploading=!1};var t=i()({image:n,langFI:e.isFinnish});a.send(t)},saveToPC:function(){var e=this.canvas.toDataURL("png");window.open(e)},changeBG:function(){var e=this;this.changingBG=!0;var n=new XMLHttpRequest;n.open("GET","bg",!0),n.setRequestHeader("Content-type","application/json"),n.onload=function(){200===n.status?fabric.Image.fromURL(n.response,function(n){e.canvas.backgroundImage=n,e.canvas.backgroundImage.width=800,e.canvas.backgroundImage.height=600,e.canvas.renderAll(),e.changingBG=!1},{crossOrigin:"anonymous"}):e.changingBG=!1},n.send()}}}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={adjectives:["kaunis","vihreä","elinvoimainen","taisteleva","runsas","kuulas","viileä","kultainen","synkkä","herkkä","rehevä","punainen","musta","sininen","keltainen","oranssi","valkoinen","valkea","arvaamaton","salainen","kirkas","synkkä","kellertävä","kuulas","herkkä","elegantti","multainen","erityinen","ainutlaatuinen","energinen","tuoksuva","kasvava","elävä","voimakas","rehevä","räjähtävä","hiuksenhieno","tummanvihreä","kullattu","lyhyt","pitkä","ikuinen","loppumaton","musta","keväänvihreä","taivaansininen","hämärä","synkkä","musta","tumma","kylmä","viileä","raikas","puhdas","kostea","multaisa","huojuva","karhea","villi","raivoava","usvaisa","elävä","ainutlaatuinen","miehekäs","naisellinen","koskettava","pistelevä","kasvava","kuhiseva","kirkas","ainoa","ajankohtainen","kahiseva","riipaiseva","runollinen","uskalias","ujo","satumainen","aavemainen","autio","yksinäinen","tyhjä","punertava","maukas","kypsyvä","ikivanha","aava","aakea","yksin","hiljainen","koskematon","höyhenenkevyt","seitinohut","kuulas","kirkas","raikas","uljas","rento","nuori","vanha","ikivanha","hengellinen","antoisa","kallisarvoinen","suomalainen","kotimainen","luonnollinen","terveellinen","kaiho","surullinen","uupunut","vilkas","nöyrä"],adjectivesEng:["fresh","windy","clean","green","chilly","red","well","good","cozy","happy","content","cheerful","rough","cold","freezing","alive","lively","calm","dense","thick","ancient","secret","hidden","massive","deep","boreal","unbroken","wild","enchanted","lush","natural","open","tall","magnificent","silent","distant","immense","blissful","buzzing","inspiring","fresh","playing","pure","rainy","fragrant","fertile","growing","sweet","earthly","woodland","forgiving","dense","undisturbed","lonely","mighty","largest","fresh","fir","cool","yellow","thawed","obscured","slender","sharp","sunlit","dusky","vivid","barren","thriving","harsh","unpredictable","young","alluring","elegant","black","blue","clear","remote","cold","fragrant","hazy","light","old","ancient","beautiful","mysterious","silent","amazing","graceful"],verbs:["poimia","poimin","paistaa","kaatua","kasvaa","herään","herää","nousta","nousen","nousee","koittaa","koitan","uskallan","uskalla","menen","menee","annan","antaa","joustaa","elää","elän","nukkuu","nukun","painautuu","painaudun","koskettaa","kuulee","kuulen","unohdan","unohdin","unohtaa","muistaa","muista","muistin","muistan","kasvattaa","juoksee","juoksen","helisee","suree","suren","itken","huojuu","kuultaa","paistaa","menen","menet","menen","laulaa","laulaa","laulan","laula","kuuntele","kuulen","rentoudun","rentoudu","rentoutuu","nautin","nauttii","syön","syö","kerään","kuljen","kulkee","vaellan","vaeltaa","hengähdän","hengähtää","tunnen","tunne","katson","katso","tarkkailen","tarkkailee","kuuntelen","kuuntelee","kuuntele","huudan","huutaa","piiloudun","piiloutuu","katoaa","hämärtyy","kadotan","piilotan","löydän","löytyy","poimin","kurotan","käpertyy","käperryn","istahdan","istahtaa","istun","istuu","hiihtelen","kulkea","soi","soittaa","taivaltaa","lipuu","hidastelen","rauhoitun","hiihdän","kiiruhdan","hiljennyn","leikkii","leikin","palaa","syttyy","loimuaa","hohtaa","kimmeltää","kiiltää","kipinoi","hiljentyy","jäljitän","tuudittaa","havisee","visertää","ulvoo","kaipaan","kohisee","sataa","myrskyää","tuulee"],verbsEng:["running","am","should","will","want","love","sing","live","protect","growing","lend","imagine","stay","listen","collect","pick","dig","feel","see","hear","live","can","will","should","isn't","is","is","is","is","is","is","will","love","cherish","remember","flying","running","wants","love","find","does","doesn't","would","will","wouldn't","couldn't","can","can't","could","yearns","shining"],substantives:["koivu","mänty","metsä","honka","petäjä","auringonlasku","tähdenlento","ukkonen","kangas","sydän","sammal","oksa","käpy","sieni","kaipuu","liekki","nuotio","kuiske","tuli","leirinuotio","teltta","kota","laavu","polku","reitti","kartta","haapa","kelo","tikka","käki","pesä","sulka","höyhen","lehti","ranta","marja","luonto","puutarha","kuolema","kehto","aika","tähtien","uni","unessa","hanki","luonnossa","luontoon","luonnon","metsä","metsät","metsässä","metsän","myrskytuuli","kevätsää","talvimyrsky","tuisku","nuoska","lumikide","horsma","poimulehti","niitty","yö","yöllä","päivä","yön","elämä","elämän","suuruus","usva","lampi","juhannus","kesäyö","sammalmätäs","laulu","syksyllä","keväällä","kesällä","talvella","hanki","lumi","lumihanki","jälki","jäljet","orava","eläin","eläimet","jänis","hirvi","poro","karhu","otso","kallio","kivi","ravinto","henki","hengissä","elossa","kehto","lapsi","poikanen","susi","muurahainen","kanto","eväät","termospullo","neulanen","korpi","metso","teeri","karpalo","puolukka","mustikka","kukka","nuppu","aromi","auringonvalo","sade","todellisuus","usva","maassa","aika","unia","halla","tihku","sumu","kumisaappaat","kyy","lintu","eläin","tiainen","korppi","sammal","koski","pelto","laakso","vaara","pesä","koti","kolo","vuori","muisto","hetki","tuoksu","koivu","mänty","lähde","puro","tunturi","syksy","kevät","kesä","talvi","korpi","muisto","hetki","tuoksu","savi","kangas","aurinko","kuu","tähdet","taivas","pilvet","suo","räme","oja","naava","halla","kuura"],substantivesEng:["bear","wolf","dream","reality","midsummer","moment","feather","heather","nature","natural","lifetime","season","day","wind","breath","call","wild","moor","cliff","granite","night","midnight","evening","mosquito","anthill","pond","sound","thunder","day","pine","pinecone","birch","elk","moose","reindeer","hare","rabbit","squirrel","blueberry","raspberry","warmth","sunlight","summer","brook","water","snowflake","auroras","skiing","moment","memory","branches","trees","forest","forest","forest","forest","scent","fog","smoke","willow","deer","rabbit","track","pawprint","snow","mountain","home","cabin","grass","moss","sunset","river","sunlight","night","stars","moon","rain","snow","flame","campfire","smoke","leaves","berries","forest","stream","sun","moon","night","winter","summer","trees","spring","flowers","nature","nest","fur","swamp","midnight","hunter"],misc:["jos","joskus","kerran","aina","missä","siellä","kenet","miksi","emme","voi","minut","sinut","meidät","teidät","heidät","kenen","ainoa","mennyt","tuleva","ken","vaikka","joka","jokainen","mennyt","kuin","kun","kunnes","asti","väärä","joku","jonkun","jotain","jollei","minne","milloin","silloin","siellä","sinne","siksi","miksi","miksei","on","eilinen","tuskin","alla","yllä","ja","ja","ja","ja","ja","ja","ehkä","ehkä","vielä","tai","kai","ken","tänään","ikuinen","aina","ehkei","ei","ei","en","en","et","et","minä","minä","sinä","sinä","se","sinä","kyllä","ehkä","jopa","kuin"],miscEng:["only","always","today","not","no","to","to","to","to","I","no","perhaps","might","yet","still","while","for","because","you","they","barely","even","though","like","where","there","why","not","cannot","every","each","yesterday","tomorrow","future","over","too","too","too","to","I","I","do","does","she","she","the","the","the","the","the","of","of","of","of","of","of","of","of","of","he","he","it","it","why","when","where","here","there","because","since","nobody","no-one","then","when"]};n.default={name:"word",data:function(){return{word:"init",textElement:{},controlElement:{},elementGroup:{}}},props:["type","canvas","lang"],computed:{isFinnish:function(){return"FI"===this.lang}},watch:{isFinnish:"changeLanguage"},created:function(){var e=this;this.word=t[this.type.type][Math.floor(Math.random()*t[this.type.type].length)],this.textElement=new fabric.IText(this.word,{left:e.type.startPos.x,top:e.type.startPos.y,textBackgroundColor:"rgb(0,0,0)",fill:"rgb(255,255,255)",fontFamily:"Courier",angle:10-20*Math.random()});var n,a;e.isFinnish?(n="Vaihda\nsana",a="Poista\nsana"):(n="Randomize\nword",a="Remove\nword"),this.controlElement=new fabric.Text(n,{fill:"#28b",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.removalElement=new fabric.Text(a,{fill:"#F00",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.canvas.add(this.textElement),this.canvas.add(this.controlElement),this.canvas.add(this.removalElement),this.moveControlElementsTo(this.textElement),this.canvas.renderAll(),this.canvas.on("object:moving",function(n){n.target===e.textElement&&e.moveControlElementsTo(n.target)}),this.canvas.on("object:rotating",function(n){n.target===e.textElement&&(e.controlElement.setVisible(!1),e.removalElement.setVisible(!1))}),this.canvas.on("mouse:down",function(n){n.target===e.controlElement?e.refresh():n.target===e.removalElement?(e.textElement.remove(),e.controlElement.remove(),e.removalElement.remove()):n.target===e.textElement?(e.controlElement.setVisible(!0),e.removalElement.setVisible(!0)):(e.controlElement.setVisible(!1),e.removalElement.setVisible(!1))}),this.canvas.on("object:selected",function(n){n.target===e.textElement&&(e.controlElement.setVisible(!0),e.removalElement.setVisible(!0))})},methods:{refresh:function(){var e=["adjectives","verbs","substantives","misc"],n=["adjectivesEng","verbsEng","substantivesEng","miscEng"];if(this.isFinnish)var a=e;else var a=n;var i=a[Math.floor(Math.random()*a.length)];this.word=t[i][Math.floor(Math.random()*t[i].length)],this.textElement.setText(this.word),this.canvas.renderAll()},changeLanguage:function(){this.isFinnish?(this.controlElement.setText("Vaihda\nsana"),this.removalElement.setText("Poista\nsana")):(this.controlElement.setText("Randomize\nword"),this.removalElement.setText("Remove\nword")),this.canvas.renderAll()},moveControlElementsTo:function(e){this.controlElement.setLeft(e.getLeft()-80),this.controlElement.setTop(e.getTop()-40),this.controlElement.setCoords(),this.removalElement.setLeft(e.getLeft()-80),this.removalElement.setTop(e.getTop()+40),this.removalElement.setCoords(),this.canvas.renderAll()}}}},,,,function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n,a){a(13);var t=a(0)(a(4),a(18),null,null);e.exports=t.exports},function(e,n,a){var t=a(0)(a(5),a(17),null,null);e.exports=t.exports},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",id:"FI",value:"FI"},domProps:{checked:e._q(e.lang,"FI")},on:{click:function(n){e.lang="FI"}}}),e._v(" "),a("label",{attrs:{for:"FI"}},[e._v("FI")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",id:"EN",value:"EN"},domProps:{checked:e._q(e.lang,"EN")},on:{click:function(n){e.lang="EN"}}}),e._v(" "),a("label",{attrs:{for:"EN"}},[e._v("EN")]),e._v(" "),a("br"),e._v(" "),a("poem",{attrs:{language:e.lang}})],1)},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div")},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"poem"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Tuplaklikkaamalla taustakuvaa voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("You can add new words by double-clicking the background. To select a word, click it once. You can edit the currently selected word via the buttons, by re-rolling a new random word, or by deleting it. You can edit the word and write your own custom words by double-clicking one.")]),e._v(" "),a("canvas",{attrs:{id:"canvas",width:"800",height:"600"}}),e._v(" "),e._l(e.wordlist,function(n){return a("word",{attrs:{type:n,lang:e.language,canvas:e.canvas}})}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.uploading,expression:"!uploading"}],on:{click:function(n){e.saveCanvas()}}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Lähetä galleriaan")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Upload to gallery")])]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}],staticClass:"fa fa-spinner fa-spin"}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.changingBG,expression:"!changingBG"}],on:{click:function(n){e.changeBG()}}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Vaihda taustakuva")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Change background image")])]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.changingBG,expression:"changingBG"}],staticClass:"fa fa-spinner fa-spin"}),e._v(" "),a("button",{on:{click:function(n){e.saveToPC()}}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Tallenna koneelle")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Save locally")])])],2)},staticRenderFns:[]}},,,function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a(2),i=a.n(t),s=a(1),o=a.n(s);new i.a({el:"#app",template:"<App/>",components:{App:o.a}})}],[21]);
//# sourceMappingURL=app.9cb47e3e40ee60530b51.js.map