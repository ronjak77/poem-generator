webpackJsonp([0,2],[,function(e,t,n){n(12);var a=n(0)(n(3),n(16),null,null);e.exports=a.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=n.n(a),o=n(10),s=(n.n(o),n(11)),l=(n.n(s),n(9));n.n(l);t.default={name:"app",data:function(){return{lang:"FI"}},components:{Poem:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n.n(a),o=n(15),s=n.n(o),l={arr:[{id:"1",url:"https://www.flickr.com/photos/juhoholmi/30118947266/",title:"Jylkynoja 2",author:"Juho Holmi"},{id:"2",url:"https://www.flickr.com/photos/67135676@N04/32462123610/",title:"Forest",author:"Minna Halonen"},{id:"3",url:"https://www.flickr.com/photos/80429160@N07/7879988542/",title:"Forest",author:"Daniela"},{id:"4",url:"https://www.flickr.com/photos/105637782@N04/10327378784/",title:"Forest",author:"Mariya Chorna"},{id:"5",url:"https://www.flickr.com/photos/a-herzog/15253502399/",title:"autumn forest",author:"Stiller Beobachter"},{id:"6",url:"https://www.flickr.com/photos/andrewmalone/6965495286/",title:"Forest",author:"Andrew Malone"},{id:"7",url:"https://www.flickr.com/photos/davidstrom/15516370872/",title:"Forest",author:"David Strom"},{id:"8",url:"https://www.flickr.com/photos/zsoolt/3545650978/",title:"Forest",author:"zsoolt"},{id:"9",url:"https://www.flickr.com/photos/neil_roger/3087249891/",title:"Forest",author:"neil roger"},{id:"10",url:"https://www.flickr.com/photos/foto-kouba/6299871278/",title:"Primeval forest",author:"Jaroslav Kuba"},{id:"11",url:"https://www.flickr.com/photos/three_if_by_bike/3063055501/",title:"The Woods",author:"ThreeIfByBike"},{id:"12",url:"https://www.flickr.com/photos/craigcloutier/3140160186/",title:"deep dark forest",author:"craig Cloutier"},{id:"13",url:"https://www.flickr.com/photos/damienz/7682053216/",title:"Forest moment",author:"Daniel Sjöström"},{id:"14",url:"https://www.flickr.com/photos/mladjenovic_n/8594411923/",title:"1232 Forest",author:"nebojsa mladjenovic"},{id:"15",url:"https://www.flickr.com/photos/miguelvirkkunen/10889431856/",title:"Birch Forest",author:"Miguel Virkkunen Carvalho"},{id:"16",url:"https://www.flickr.com/photos/andrein/2811470968/",title:"woods",author:"Andrei Niemimäki"},{id:"17",url:"https://www.flickr.com/photos/miguelvirkkunen/6280958247/",title:"Forest Path",author:"Miguel Virkkunen Carvalho"},{id:"18",url:"https://www.flickr.com/photos/villoks/6572345877/",title:"Luminen metsä",author:"Ville Oksanen"},{id:"19",url:"https://www.flickr.com/photos/villoks/6575100589/",title:"metsä 029",author:"Ville Oksanen"},{id:"20",url:"https://www.flickr.com/photos/alessandrogrussu/28330491011/",title:"FIN_189 - Pyhä-Luosto",author:"Alessandro Grussu"},{id:"21",url:"https://www.flickr.com/photos/david_e_smith/3240592407/",title:"Winter forest, January 2009",author:"Dave_S."},{id:"22",url:"https://www.flickr.com/photos/jannefoo/3242177422/",title:"Lujabetonilta etelään",author:"Janne"},{id:"23",url:"https://www.flickr.com/photos/jannefoo/4568614299/",title:"Aurinko laskee harjun taakse",author:"Janne"},{id:"24",url:"https://www.flickr.com/photos/miguelvirkkunen/11385819296/",title:"Koli National Park",author:"Miguel Virkkunen Carvalho"}],total:24};t.default={name:"poem",data:function(){return{wordlist:[],canvas:{},backgroundInfo:{author:"placeholder",url:"www.site.com"},uploading:!1}},props:{language:String},computed:{isFinnish:function(){return"FI"===this.language}},components:{Word:s.a},mounted:function(){var e=this;this.canvas=new fabric.Canvas("canvas"),this.canvas.backgroundColor="white",this.changeBG(),this.canvas.on("mouse:down",function(t){if(null===t.target){var n=(new Date).getTime(),a=e.lastTouch||n+1,i=n-a;i<300&&i>0?(e.lastTouch=null,e.addWord("random",e.canvas.getPointer(t.e))):e.lastTouch=n}})},methods:{addWord:function(e,t){if("random"===e){var n=["adjectives","verbs","substantives","misc","misc"],a=["adjectivesEng","verbsEng","substantivesEng","miscEng","miscEng"];if(this.isFinnish)var i=n;else var i=a;var o=i[Math.floor(Math.random()*i.length)];this.wordlist.push({type:o,startPos:t})}else this.wordlist.push({type:e,startPos:t})},saveCanvas:function(){var e=this,t=this.canvas.toDataURL("png"),n=new XMLHttpRequest;this.uploading=!0,n.open("POST","upload",!0),n.setRequestHeader("Content-type","application/json"),n.onload=function(){200===n.status?alert("Uploaded ok"):alert("An error occurred!"),e.uploading=!1};var a=i()({image:t});n.send(a)},saveToPC:function(){var e=this.canvas.toDataURL("png");window.open(e)},changeBG:function(){var e=l.total,t=Math.floor(1+Math.random()*e),n="../static/"+t+".jpg";this.backgroundInfo.author=l.arr[t-1].author,this.backgroundInfo.url=l.arr[t-1].url;var a=this;fabric.Image.fromURL(n,function(e){a.canvas.backgroundImage=e,a.canvas.backgroundImage.width=800,a.canvas.backgroundImage.height=600,a.canvas.renderAll()})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={adjectives:["kaunis","vihreä","elinvoimainen","taisteleva","runsas","kuulas","viileä","kultainen","synkkä","herkkä","rehevä","punainen","musta","sininen","keltainen","oranssi","valkoinen","valkea","arvaamaton","salainen","kirkas","synkkä","kellertävä","kuulas","herkkä","elegantti","multainen","erityinen","ainutlaatuinen","energinen","tuoksuva","kasvava","elävä","voimakas","rehevä","räjähtävä","hiuksenhieno","tummanvihreä","kullattu","lyhyt","pitkä","ikuinen","loppumaton","musta","keväänvihreä","taivaansininen","hämärä","synkkä","musta","tumma","kylmä","viileä","raikas","puhdas","kostea","multaisa","huojuva","karhea","villi","raivoava","usvaisa","elävä","ainutlaatuinen","miehekäs","naisellinen","koskettava","pistelevä","kasvava","kuhiseva","kirkas","ainoa","ajankohtainen","kahiseva","riipaiseva","runollinen","uskalias","ujo","satumainen","aavemainen","autio","yksinäinen","tyhjä","punertava","maukas","kypsyvä","ikivanha","aava","aakea","yksin","hiljainen","koskematon","höyhenenkevyt","seitinohut","kuulas","kirkas","raikas","uljas","rento","nuori","vanha","ikivanha","hengellinen","antoisa","kallisarvoinen","suomalainen","kotimainen","luonnollinen","terveellinen","kaiho","surullinen","uupunut","vilkas","nöyrä"],adjectivesEng:["fresh","windy","clean","green","chilly","red","well","good","cozy","happy","content","cheerful","rough","cold","freezing","alive","lively","calm","dense","thick","ancient","secret","hidden","massive","deep","boreal","unbroken","wild","enchanted","lush","natural","open","tall","magnificent","silent","distant","immense","blissful","buzzing","inspiring","fresh","playing","pure","rainy","fragrant","fertile","growing","sweet","earthly","woodland","forgiving","dense","undisturbed","lonely","mighty","largest","fresh","fir","cool","yellow","thawed","obscured","slender","sharp","sunlit","dusky","vivid","barren","thriving","harsh","unpredictable","young","alluring","elegant","black","blue","clear","remote","cold","fragrant","hazy","light","old","ancient","beautiful","mysterious","silent","amazing","graceful"],verbs:["poimia","poimin","paistaa","kaatua","kasvaa","herään","herää","nousta","nousen","nousee","koittaa","koitan","uskallan","uskalla","menen","menee","annan","antaa","joustaa","elää","elän","nukkuu","nukun","painautuu","painaudun","koskettaa","kuulee","kuulen","unohdan","unohdin","unohtaa","muistaa","muista","muistin","muistan","kasvattaa","juoksee","juoksen","helisee","suree","suren","itken","huojuu","kuultaa","paistaa","menen","menet","menen","laulaa","laulaa","laulan","laula","kuuntele","kuulen","rentoudun","rentoudu","rentoutuu","nautin","nauttii","syön","syö","kerään","kuljen","kulkee","vaellan","vaeltaa","hengähdän","hengähtää","tunnen","tunne","katson","katso","tarkkailen","tarkkailee","kuuntelen","kuuntelee","kuuntele","huudan","huutaa","piiloudun","piiloutuu","katoaa","hämärtyy","kadotan","piilotan","löydän","löytyy","poimin","kurotan","käpertyy","käperryn","istahdan","istahtaa","istun","istuu","hiihtelen","kulkea","soi","soittaa","taivaltaa","lipuu","hidastelen","rauhoitun","hiihdän","kiiruhdan","hiljennyn","leikkii","leikin","palaa","syttyy","loimuaa","hohtaa","kimmeltää","kiiltää","kipinoi","hiljentyy","jäljitän","tuudittaa","havisee","visertää","ulvoo","kaipaan","kohisee","sataa","myrskyää","tuulee"],verbsEng:["running","am","should","will","want","love","sing","live","protect","growing","lend","imagine","stay","listen","collect","pick","dig","feel","see","hear","live","can","will","should","isn't","is","is","is","is","is","is","will","love","cherish","remember","flying","running","wants","love","find","does","doesn't","would","will","wouldn't","couldn't","can","can't","could","yearns","shining"],substantives:["koivu","mänty","metsä","honka","petäjä","auringonlasku","tähdenlento","ukkonen","kangas","sydän","sammal","oksa","käpy","sieni","kaipuu","liekki","nuotio","kuiske","tuli","leirinuotio","teltta","kota","laavu","polku","reitti","kartta","haapa","kelo","tikka","käki","pesä","sulka","höyhen","lehti","ranta","marja","luonto","puutarha","kuolema","kehto","aika","tähtien","uni","unessa","hanki","luonnossa","luontoon","luonnon","metsä","metsät","metsässä","metsän","myrskytuuli","kevätsää","talvimyrsky","tuisku","nuoska","lumikide","horsma","poimulehti","niitty","yö","yöllä","päivä","yön","elämä","elämän","suuruus","usva","lampi","juhannus","kesäyö","sammalmätäs","laulu","syksyllä","keväällä","kesällä","talvella","hanki","lumi","lumihanki","jälki","jäljet","orava","eläin","eläimet","jänis","hirvi","poro","karhu","otso","kallio","kivi","ravinto","henki","hengissä","elossa","kehto","lapsi","poikanen","susi","muurahainen","kanto","eväät","termospullo","neulanen","korpi","metso","teeri","karpalo","puolukka","mustikka","kukka","nuppu","aromi","auringonvalo","sade","todellisuus","usva","maassa","aika","unia","halla","tihku","sumu","kumisaappaat","kyy","lintu","eläin","tiainen","korppi","sammal","koski","pelto","laakso","vaara","pesä","koti","kolo","vuori","muisto","hetki","tuoksu","koivu","mänty","lähde","puro","tunturi","syksy","kevät","kesä","talvi","korpi","muisto","hetki","tuoksu","savi","kangas","aurinko","kuu","tähdet","taivas","pilvet","suo","räme","oja","naava","halla","kuura"],substantivesEng:["bear","wolf","dream","reality","midsummer","moment","feather","heather","nature","natural","lifetime","season","day","wind","breath","call","wild","moor","cliff","granite","night","midnight","evening","mosquito","anthill","pond","sound","thunder","day","pine","pinecone","birch","elk","moose","reindeer","hare","rabbit","squirrel","blueberry","raspberry","warmth","sunlight","summer","brook","water","snowflake","auroras","skiing","moment","memory","branches","trees","forest","forest","forest","forest","scent","fog","smoke","willow","deer","rabbit","track","pawprint","snow","mountain","home","cabin","grass","moss","sunset","river","sunlight","night","stars","moon","rain","snow","flame","campfire","smoke","leaves","berries","forest","stream","sun","moon","night","winter","summer","trees","spring","flowers","nature","nest","fur","swamp","midnight","hunter"],misc:["jos","joskus","kerran","aina","missä","siellä","kenet","miksi","emme","voi","minut","sinut","meidät","teidät","heidät","kenen","ainoa","mennyt","tuleva","ken","vaikka","joka","jokainen","mennyt","kuin","kun","kunnes","asti","väärä","joku","jonkun","jotain","jollei","minne","milloin","silloin","siellä","sinne","siksi","miksi","miksei","on","eilinen","tuskin","alla","yllä","ja","ja","ja","ja","ja","ja","ehkä","ehkä","vielä","tai","kai","ken","tänään","ikuinen","aina","ehkei","ei","ei","en","en","et","et","minä","minä","sinä","sinä","se","sinä","kyllä","ehkä","jopa","kuin"],miscEng:["only","always","today","not","no","to","to","to","to","I","no","perhaps","might","yet","still","while","for","because","you","they","barely","even","though","like","where","there","why","not","cannot","every","each","yesterday","tomorrow","future","over","too","too","too","to","I","I","do","does","she","she","the","the","the","the","the","of","of","of","of","of","of","of","of","of","he","he","it","it","why","when","where","here","there","because","since","nobody","no-one","then","when"]};t.default={name:"word",data:function(){return{word:"init",textElement:{},controlElement:{},elementGroup:{}}},props:["type","canvas","lang"],computed:{isFinnish:function(){return"FI"===this.lang}},watch:{isFinnish:"changeLanguage"},created:function(){var e=this;this.word=a[this.type.type][Math.floor(Math.random()*a[this.type.type].length)],this.textElement=new fabric.IText(this.word,{left:e.type.startPos.x,top:e.type.startPos.y,textBackgroundColor:"rgb(0,0,0)",fill:"rgb(255,255,255)",fontFamily:"Courier",angle:10-20*Math.random()});var t,n;e.isFinnish?(t="Vaihda\nsana",n="Poista\nsana"):(t="Randomize\nword",n="Remove\nword"),this.controlElement=new fabric.Text(t,{fill:"#28b",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.removalElement=new fabric.Text(n,{fill:"#F00",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.canvas.add(this.textElement),this.canvas.add(this.controlElement),this.canvas.add(this.removalElement),this.moveControlElementsTo(this.textElement),this.canvas.renderAll(),this.canvas.on("object:moving",function(t){t.target===e.textElement&&e.moveControlElementsTo(t.target)}),this.canvas.on("object:rotating",function(t){t.target===e.textElement&&(e.controlElement.setVisible(!1),e.removalElement.setVisible(!1))}),this.canvas.on("mouse:down",function(t){t.target===e.controlElement?e.refresh():t.target===e.removalElement?(e.textElement.remove(),e.controlElement.remove(),e.removalElement.remove()):t.target===e.textElement?(e.controlElement.setVisible(!0),e.removalElement.setVisible(!0)):(e.controlElement.setVisible(!1),e.removalElement.setVisible(!1))}),this.canvas.on("object:selected",function(t){t.target===e.textElement&&(e.controlElement.setVisible(!0),e.removalElement.setVisible(!0))})},methods:{refresh:function(){var e=["adjectives","verbs","substantives","misc"],t=["adjectivesEng","verbsEng","substantivesEng","miscEng"];if(this.isFinnish)var n=e;else var n=t;var i=n[Math.floor(Math.random()*n.length)];this.word=a[i][Math.floor(Math.random()*a[i].length)],this.textElement.setText(this.word),this.canvas.renderAll()},changeLanguage:function(){this.isFinnish?(this.controlElement.setText("Vaihda\nsana"),this.removalElement.setText("Poista\nsana")):(this.controlElement.setText("Randomize\nword"),this.removalElement.setText("Remove\nword")),this.canvas.renderAll()},moveControlElementsTo:function(e){this.controlElement.setLeft(e.getLeft()-80),this.controlElement.setTop(e.getTop()-40),this.controlElement.setCoords(),this.removalElement.setLeft(e.getLeft()-80),this.removalElement.setTop(e.getTop()+40),this.removalElement.setCoords(),this.canvas.renderAll()}}}},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(13);var a=n(0)(n(4),n(18),null,null);e.exports=a.exports},function(e,t,n){var a=n(0)(n(5),n(17),null,null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",id:"FI",value:"FI"},domProps:{checked:e._q(e.lang,"FI")},on:{click:function(t){e.lang="FI"}}}),e._v(" "),n("label",{attrs:{for:"FI"}},[e._v("FI")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",id:"EN",value:"EN"},domProps:{checked:e._q(e.lang,"EN")},on:{click:function(t){e.lang="EN"}}}),e._v(" "),n("label",{attrs:{for:"EN"}},[e._v("EN")]),e._v(" "),n("br"),e._v(" "),n("poem",{attrs:{language:e.lang}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poem"},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Tuplaklikkaamalla taustakuvaa voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.")]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("You can add new words by double-clicking the background. To select a word, click it once. You can edit the currently selected word via the buttons, by re-rolling a new random word, or by deleting it. You can edit the word and write your own custom words by double-clicking one.")]),e._v(" "),n("canvas",{attrs:{id:"canvas",width:"600",height:"400"}}),e._v(" "),e._l(e.wordlist,function(t){return n("word",{attrs:{type:t,lang:e.language,canvas:e.canvas}})}),e._v(" "),n("p",[n("span",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Valokuvaaja: ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Photographer: ")]),n("a",{attrs:{href:e.backgroundInfo.url}},[e._v(e._s(e.backgroundInfo.author))])]),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.uploading,expression:"!uploading"}],on:{click:function(t){e.saveCanvas()}}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Lähetä galleriaan")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Upload to gallery")])]),n("i",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}],staticClass:"fa fa-spinner fa-spin"}),e._v(" "),n("button",{on:{click:function(t){e.changeBG()}}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Vaihda taustakuva")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Change background image")])]),e._v(" "),n("button",{on:{click:function(t){e.saveToPC()}}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.isFinnish,expression:"isFinnish"}]},[e._v("Tallenna koneelle")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isFinnish,expression:"!isFinnish"}]},[e._v("Save locally")])])],2)},staticRenderFns:[]}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n.n(a),o=n(1),s=n.n(o);new i.a({el:"#app",template:"<App/>",components:{App:s.a}})}],[21]);
//# sourceMappingURL=app.8e348f3bb2e76982ad6b.js.map