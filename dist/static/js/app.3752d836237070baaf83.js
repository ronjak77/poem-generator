webpackJsonp([0,2],[,function(t,e,a){a(11);var o=a(0)(a(3),a(15),null,null);t.exports=o.exports},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(13),n=a.n(o),i=a(9),s=(a.n(i),a(10));a.n(s);e.default={name:"app",components:{Poem:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(6),n=a.n(o),i=a(14),s=a.n(i),r={arr:[{id:"1",url:"https://www.flickr.com/photos/lifeforweb/3849452779/",title:"Forest",author:"Igor Gusarov"},{id:"2",url:"https://www.flickr.com/photos/67135676@N04/32462123610/",title:"Forest",author:"Minna Halonen"},{id:"3",url:"https://www.flickr.com/photos/80429160@N07/7879988542/",title:"Forest",author:"Daniela"},{id:"4",url:"https://www.flickr.com/photos/105637782@N04/10327378784/",title:"Forest",author:"Mariya Chorna"},{id:"5",url:"https://www.flickr.com/photos/a-herzog/15253502399/",title:"autumn forest",author:"Stiller Beobachter"},{id:"6",url:"https://www.flickr.com/photos/andrewmalone/6965495286/",title:"Forest",author:"Andrew Malone"},{id:"7",url:"https://www.flickr.com/photos/davidstrom/15516370872/",title:"Forest",author:"David Strom"},{id:"8",url:"https://www.flickr.com/photos/zsoolt/3545650978/",title:"Forest",author:"zsoolt"},{id:"9",url:"https://www.flickr.com/photos/neil_roger/3087249891/",title:"Forest",author:"neil roger"},{id:"10",url:"https://www.flickr.com/photos/foto-kouba/6299871278/",title:"Primeval forest",author:"Jaroslav Kuba"},{id:"11",url:"https://www.flickr.com/photos/three_if_by_bike/3063055501/",title:"The Woods",author:"ThreeIfByBike"},{id:"12",url:"https://www.flickr.com/photos/craigcloutier/3140160186/",title:"deep dark forest",author:"craig Cloutier"},{id:"13",url:"https://www.flickr.com/photos/damienz/7682053216/",title:"Forest moment",author:"Daniel Sjöström"},{id:"14",url:"https://www.flickr.com/photos/mladjenovic_n/8594411923/",title:"1232 Forest",author:"nebojsa mladjenovic"},{id:"15",url:"https://www.flickr.com/photos/miguelvirkkunen/10889431856/",title:"Birch Forest",author:"Miguel Virkkunen Carvalho"},{id:"16",url:"https://www.flickr.com/photos/andrein/2811470968/",title:"woods",author:"Andrei Niemimäki"},{id:"17",url:"https://www.flickr.com/photos/villefi/13981738045/",title:"DSC04383",author:"Ville .fi"},{id:"18",url:"https://www.flickr.com/photos/villoks/6572345877/",title:"Luminen metsä",author:"Ville Oksanen"},{id:"19",url:"https://www.flickr.com/photos/villoks/6575100589/",title:"metsä 029",author:"Ville Oksanen"},{id:"20",url:"https://www.flickr.com/photos/maaniemi/15328229697/",title:"Metsä aidan takana",author:"Tero Maaniemi"},{id:"21",url:"https://www.flickr.com/photos/david_e_smith/3240592407/",title:"Winter forest, January 2009",author:"Dave_S."},{id:"22",url:"https://www.flickr.com/photos/jannefoo/3242177422/",title:"Lujabetonilta etelään",author:"Janne"},{id:"23",url:"https://www.flickr.com/photos/jannefoo/4568614299/",title:"Aurinko laskee harjun taakse",author:"Janne"},{id:"24",url:"https://www.flickr.com/photos/miguelvirkkunen/11385819296/",title:"Koli National Park",author:"Miguel Virkkunen Carvalho"},{id:"25",url:"https://www.flickr.com/photos/miguelvirkkunen/6280958247/",title:"Forest Path",author:"Miguel Virkkunen Carvalho"},{id:"26",url:"https://www.flickr.com/photos/alessandrogrussu/28330491011/",title:"FIN_189 - Pyhä-Luosto",author:"Alessandro Grussu"},{id:"27",url:"https://www.flickr.com/photos/juhoholmi/30118947266/",title:"Jylkynoja 2",author:"Juho Holmi"}],total:27};e.default={name:"poem",data:function(){return{wordlist:[],canvas:{},backgroundInfo:{author:"placeholder",url:"www.site.com"}}},components:{Word:s.a},mounted:function(){var t=this;this.canvas=new fabric.Canvas("canvas"),this.canvas.backgroundColor="white",this.changeBG(),this.canvas.on("mouse:down",function(e){if(null===e.target){var a=(new Date).getTime(),o=t.lastTouch||a+1,n=a-o;n<300&&n>0?(t.lastTouch=null,t.addWord("random",t.canvas.getPointer(e.e))):t.lastTouch=a}})},methods:{addWord:function(t,e){if("random"===t){var a=["adjectives","verbs","substantives","misc"],o=a[Math.floor(Math.random()*a.length)];this.wordlist.push({type:o,startPos:e})}else this.wordlist.push({type:t,startPos:e})},saveCanvas:function(){var t=this.canvas.toDataURL("png"),e=new XMLHttpRequest;e.open("POST","upload",!0),e.setRequestHeader("Content-type","application/json"),e.onload=function(){200===e.status||alert("An error occurred!")};var a=n()({image:t});e.send(a)},changeBG:function(){var t=r.total,e=Math.floor(1+Math.random()*t),a="../static/"+e+".jpg";console.log(r.arr[e+1]),this.backgroundInfo.author=r.arr[e-1].author,this.backgroundInfo.url=r.arr[e-1].url;var o=this;fabric.Image.fromURL(a,function(t){o.canvas.backgroundImage=t,o.canvas.backgroundImage.width=800,o.canvas.backgroundImage.height=600,o.canvas.renderAll()})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={adjectives:["kaunis","vihreä","runsas","kuulas","viileä","kultainen","synkkä","herkkä","rehevä","kellertävä","kuulas","herkkä","elegantti","multainen","erityinen","ainutlaatuinen","energinen","tuoksuva","kasvava","elävä","voimakas","rehevä","räjähtävä","hiuksenhieno","tummanvihreä","keväänvihreä","taivaansininen","hämärä","synkkä","musta","tumma","kylmä","viileä","kostea","multaisa","huojuva","karhea","ainutlaatuinen","miehekäs","naisellinen","koskettava","pistelevä","kasvava","kuhiseva","kirkas","ainoa","ajankohtainen","kahiseva","riipaiseva","runollinen","uskalias","ujo","satumainen","aavemainen","autio","yksinäinen","tyhjä","punertava","maukas","kypsyvä","ikivanha","aava","aakea","hiljainen","koskematon","hengellinen","antoisa","kallisarvoinen","suomalainen","kotimainen","luonnollinen","terveellinen","kaiho","surullinen","uupunut","vilkas","nöyrä"],verbs:["poimia","paistaa","kaatua","kasvaa","herätä","nousta","koittaa","uskaltaa","mennä","antaa","joustaa","elää","nukkua","painautua","koskettaa","kuulla","unohtaa","muistaa","kasvattaa","juosta","kuultaa","paistaa","mennä","laulaa","kuulla","rentoutua","nauttia","syödä","kerätä","kulkea","vaeltaa","hengähtää","tuntea","katsoa","tarkkailla","kuunnella","huutaa","piiloutua","kadota","hämärtyä","kadottaa","piilottaa","löytää","poimia","kurottaa","käpertyä","istahtaa","istua","kulkea","taivaltaa","lipua","hidastella","kiiruhtaa","hiljentyä","jäljittää","tuudittaa","irroittaa","havista","visertää","ulvoa","kohista","sataa","myrskytä"],substantives:["koivu","mänty","metsä","honka","petäjä","kangas","sammal","oksa","käpy","sieni","lehti","marja","luonto","elämä","syksy","kevät","kesä","talvi","hanki","lumi","jälki","orava","eläin","jänis","hirvi","poro","karhu","otso","kallio","kivi","ravinto","henki","kehto","lapsi","poikanen","susi","muurahainen","kanto","eväät","termospullo","neulanen","korpi","metso","teeri","karpalo","puolukka","mustikka","kukka","nuppu","aromi","auringonvalo","sade","usva","halla","tihku","sumu","kumisaappaat","kyy","lintu","eläin","tiainen","korppi","sammal","koski","pelto","laakso","vaara","pesä","koti","kolo","vuori","muisto","hetki","tuoksu","savi","kangas","aurinko","kuu","tähdet","taivas","pilvet","suo","räme","oja"],misc:["jos","joskus","kerran","aina","missä","siellä","kenet","miksi","emme","voi","minut","sinut","meidät","teidät","heidät","kenen","ainoa","mennyt","tuleva","ken","vaikka","kuin","kunnes","asti","joku","jonkun","jotain","jollei","minne","milloin","silloin","siellä","sinne","siksi","miksi","miksei","on","eilinen","tänään","ikuinen","aina","ehkei","ei","kyllä","ehkä","jopa","kuin"]};e.default={name:"word",data:function(){return{word:"init",textElement:{},controlElement:{},elementGroup:{}}},props:["type","canvas"],created:function(){var t=this;this.word=o[this.type.type][Math.floor(Math.random()*o[this.type.type].length)],this.textElement=new fabric.IText(this.word,{left:t.type.startPos.x,top:t.type.startPos.y,textBackgroundColor:"rgb(0,0,0)",fill:"rgb(255,255,255)",fontFamily:"Courier",angle:10-20*Math.random()}),this.controlElement=new fabric.Text("Uusi\narvo",{fill:"#28b",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.removalElement=new fabric.Text("Poista\nsana",{fill:"#F00",fontSize:25,fontFamily:"Courier",textBackgroundColor:"#FFF",hasControls:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"pointer",visible:!1}),this.canvas.add(this.textElement),this.canvas.add(this.controlElement),this.canvas.add(this.removalElement),this.moveControlElementsTo(this.textElement),this.canvas.renderAll(),this.canvas.on("object:moving",function(e){e.target===t.textElement&&t.moveControlElementsTo(e.target)}),this.canvas.on("object:rotating",function(e){e.target===t.textElement&&(t.controlElement.setVisible(!1),t.removalElement.setVisible(!1))}),this.canvas.on("mouse:down",function(e){e.target===t.controlElement?t.refresh():e.target===t.removalElement?(t.textElement.remove(),t.controlElement.remove(),t.removalElement.remove()):e.target===t.textElement?(t.controlElement.setVisible(!0),t.removalElement.setVisible(!0)):(t.controlElement.setVisible(!1),t.removalElement.setVisible(!1))}),this.canvas.on("object:selected",function(e){e.target===t.textElement&&(t.controlElement.setVisible(!0),t.removalElement.setVisible(!0))})},methods:{refresh:function(){var t=["adjectives","verbs","substantives","misc"],e=t[Math.floor(Math.random()*t.length)];this.word=o[e][Math.floor(Math.random()*o[e].length)],this.textElement.setText(this.word),this.canvas.renderAll()},moveControlElementsTo:function(t){this.controlElement.setLeft(t.getLeft()-80),this.controlElement.setTop(t.getTop()-40),this.controlElement.setCoords(),this.removalElement.setLeft(t.getLeft()-80),this.removalElement.setTop(t.getTop()+40),this.removalElement.setCoords(),this.canvas.renderAll()}}}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){a(12);var o=a(0)(a(4),a(17),null,null);t.exports=o.exports},function(t,e,a){var o=a(0)(a(5),a(16),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("poem")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poem"},[a("p",[t._v("Tuplaklikkaamalla voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.")]),t._v(" "),a("canvas",{attrs:{id:"canvas",width:"600",height:"400"}}),t._v(" "),t._l(t.wordlist,function(e){return a("word",{attrs:{type:e,canvas:t.canvas}})}),t._v(" "),a("p",[t._v("Valokuvaaja: "),a("a",{attrs:{href:t.backgroundInfo.url}},[t._v(t._s(t.backgroundInfo.author))])]),t._v(" "),a("button",{on:{click:function(e){t.saveCanvas()}}},[t._v("Lähetä galleriaan")]),t._v(" "),a("button",{on:{click:function(e){t.changeBG()}}},[t._v("Vaihda taustakuva")])],2)},staticRenderFns:[]}},,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),n=a.n(o),i=a(1),s=a.n(i);new n.a({el:"#app",template:"<App/>",components:{App:s.a}})}],[20]);
//# sourceMappingURL=app.3752d836237070baaf83.js.map