{"version":3,"sources":["webpack:///static/js/app.3752d836237070baaf83.js","webpack:///./src/App.vue","webpack:///App.vue","webpack:///Poem.vue","webpack:///Word.vue","webpack:///./src/components/Poem.vue","webpack:///./src/components/Word.vue","webpack:///./src/App.vue?43fa","webpack:///./src/components/Word.vue?31e4","webpack:///./src/components/Poem.vue?09bb","webpack:///./src/main.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_Poem__","__WEBPACK_IMPORTED_MODULE_0__components_Poem___default","n","__WEBPACK_IMPORTED_MODULE_1__assets_normalize_css__","__WEBPACK_IMPORTED_MODULE_2__assets_skeleton_css__","name","components","Poem","a","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__Word__","__WEBPACK_IMPORTED_MODULE_1__Word___default","credits","arr","id","url","title","author","total","data","wordlist","canvas","backgroundInfo","Word","mounted","self","this","fabric","Canvas","backgroundColor","changeBG","on","options","target","now","Date","getTime","lastTouch","delta","addWord","getPointer","e","methods","type","coord","wordclasses","wordType","Math","floor","random","length","push","startPos","saveCanvas","imageData","toDataURL","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","alert","image","send","totalNum","randNum","randomImage","console","log","Image","fromURL","img","backgroundImage","width","height","renderAll","words","adjectives","verbs","substantives","misc","word","textElement","controlElement","elementGroup","props","created","IText","left","x","top","y","textBackgroundColor","fill","fontFamily","angle","Text","fontSize","hasControls","lockMovementX","lockMovementY","selectable","hoverCursor","visible","removalElement","add","moveControlElementsTo","evt","setVisible","refresh","remove","setText","el","setLeft","getLeft","setTop","getTop","setCoords","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_v","_l","item","href","_s","click","$event","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","template","App"],"mappings":"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A,YACA,SACA,UACA,WACA,OACA,QACA,YACA,aACA,cACA,UACA,iBACA,cACA,aACA,eACA,eACA,QACA,aACA,UACA,SACA,SACAC,OAEA,SACA,UACA,SACA,SACA,SACA,SACA,UACA,WACA,QACA,QACA,UACA,OACA,SACA,YACA,YACA,SACA,UACA,UACA,YACA,SACA,UACA,UACA,QACA,SACA,SACA,YACA,UACA,QACA,SACA,SACA,UACA,YACA,SACA,SACA,aACA,YACA,SACA,YACA,SACA,WACA,WACA,YACA,SACA,SACA,WACA,WACA,WACA,QACA,SACA,YACA,QACA,aACA,YACA,YACA,YACA,YACA,YACA,UACA,WACA,QACA,UACA,QACA,YACAC,cAEA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,OACA,OACA,QACA,QACA,QACA,SACA,QACA,QACA,QACA,OACA,QACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,OACA,SACA,OACA,UACA,QACA,QACA,QACA,WACA,OACA,cACA,QACA,QACA,cACA,WACA,QACA,QACA,QACA,UACA,WACA,WACA,QACA,QACA,QACA,eACA,OACA,OACA,QACA,QACA,OACA,eACA,MACA,QACA,QACA,UACA,SACA,SACA,QACA,QACA,SACA,QACA,OACA,OACA,OACA,QACA,SACA,QACA,SACA,OACA,SACA,UACA,MACA,SACA,SACA,SACA,MACA,OACA,OACAC,MAEA,MACA,SACA,SACA,OACA,QACA,SACA,QACA,QACA,OACA,MACA,QACA,QACA,SACA,SACA,SACA,QACA,QACA,SACA,SACA,MACA,SACA,OACA,SACA,OACA,OACA,SACA,SACA,SACA,QACA,UACA,UACA,SACA,QACA,QACA,QACA,SACA,KACA,UACA,SACA,UACA,OACA,QACA,KACA,QACA,OACA,OAEA,QAEAtF,GAAA,SJ1HES,KI4HF,OJ3HEe,KAAM,WACJ,OACE+D,KI4HN,OJ3HMC,eACAC,kBACAC,kBAKJC,OAAQ,OI4HV,UJ1HEC,QAAS,WACP,GAAI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","file":"static/js/app.3752d836237070baaf83.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(11)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(3),\n  /* template */\n  __webpack_require__(15),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 2 */,\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Poem__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Poem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Poem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assets_normalize_css__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assets_normalize_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__assets_normalize_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assets_skeleton_css__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assets_skeleton_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__assets_skeleton_css__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'app',\n\n  components: {\n    Poem: __WEBPACK_IMPORTED_MODULE_0__components_Poem___default.a\n  }\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Word__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Word___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Word__);\n\n\n\n\n\nvar credits = { \"arr\": [{ \"id\": \"1\", \"url\": \"https://www.flickr.com/photos/lifeforweb/3849452779/\", \"title\": \"Forest\", \"author\": \"Igor Gusarov\" }, { \"id\": \"2\", \"url\": \"https://www.flickr.com/photos/67135676@N04/32462123610/\", \"title\": \"Forest\", \"author\": \"Minna Halonen\" }, { \"id\": \"3\", \"url\": \"https://www.flickr.com/photos/80429160@N07/7879988542/\", \"title\": \"Forest\", \"author\": \"Daniela\" }, { \"id\": \"4\", \"url\": \"https://www.flickr.com/photos/105637782@N04/10327378784/\", \"title\": \"Forest\", \"author\": \"Mariya Chorna\" }, { \"id\": \"5\", \"url\": \"https://www.flickr.com/photos/a-herzog/15253502399/\", \"title\": \"autumn forest\", \"author\": \"Stiller Beobachter\" }, { \"id\": \"6\", \"url\": \"https://www.flickr.com/photos/andrewmalone/6965495286/\", \"title\": \"Forest\", \"author\": \"Andrew Malone\" }, { \"id\": \"7\", \"url\": \"https://www.flickr.com/photos/davidstrom/15516370872/\", \"title\": \"Forest\", \"author\": \"David Strom\" }, { \"id\": \"8\", \"url\": \"https://www.flickr.com/photos/zsoolt/3545650978/\", \"title\": \"Forest\", \"author\": \"zsoolt\" }, { \"id\": \"9\", \"url\": \"https://www.flickr.com/photos/neil_roger/3087249891/\", \"title\": \"Forest\", \"author\": \"neil roger\" }, { \"id\": \"10\", \"url\": \"https://www.flickr.com/photos/foto-kouba/6299871278/\", \"title\": \"Primeval forest\", \"author\": \"Jaroslav Kuba\" }, { \"id\": \"11\", \"url\": \"https://www.flickr.com/photos/three_if_by_bike/3063055501/\", \"title\": \"The Woods\", \"author\": \"ThreeIfByBike\" }, { \"id\": \"12\", \"url\": \"https://www.flickr.com/photos/craigcloutier/3140160186/\", \"title\": \"deep dark forest\", \"author\": \"craig Cloutier\" }, { \"id\": \"13\", \"url\": \"https://www.flickr.com/photos/damienz/7682053216/\", \"title\": \"Forest moment\", \"author\": \"Daniel Sjöström\" }, { \"id\": \"14\", \"url\": \"https://www.flickr.com/photos/mladjenovic_n/8594411923/\", \"title\": \"1232 Forest\", \"author\": \"nebojsa mladjenovic\" }, { \"id\": \"15\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/10889431856/\", \"title\": \"Birch Forest\", \"author\": \"Miguel Virkkunen Carvalho\" }, { \"id\": \"16\", \"url\": \"https://www.flickr.com/photos/andrein/2811470968/\", \"title\": \"woods\", \"author\": \"Andrei Niemimäki\" }, { \"id\": \"17\", \"url\": \"https://www.flickr.com/photos/villefi/13981738045/\", \"title\": \"DSC04383\", \"author\": \"Ville .fi\" }, { \"id\": \"18\", \"url\": \"https://www.flickr.com/photos/villoks/6572345877/\", \"title\": \"Luminen metsä\", \"author\": \"Ville Oksanen\" }, { \"id\": \"19\", \"url\": \"https://www.flickr.com/photos/villoks/6575100589/\", \"title\": \"metsä 029\", \"author\": \"Ville Oksanen\" }, { \"id\": \"20\", \"url\": \"https://www.flickr.com/photos/maaniemi/15328229697/\", \"title\": \"Metsä aidan takana\", \"author\": \"Tero Maaniemi\" }, { \"id\": \"21\", \"url\": \"https://www.flickr.com/photos/david_e_smith/3240592407/\", \"title\": \"Winter forest, January 2009\", \"author\": \"Dave_S.\" }, { \"id\": \"22\", \"url\": \"https://www.flickr.com/photos/jannefoo/3242177422/\", \"title\": \"Lujabetonilta etelään\", \"author\": \"Janne\" }, { \"id\": \"23\", \"url\": \"https://www.flickr.com/photos/jannefoo/4568614299/\", \"title\": \"Aurinko laskee harjun taakse\", \"author\": \"Janne\" }, { \"id\": \"24\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/11385819296/\", \"title\": \"Koli National Park\", \"author\": \"Miguel Virkkunen Carvalho\" }, { \"id\": \"25\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/6280958247/\", \"title\": \"Forest Path\", \"author\": \"Miguel Virkkunen Carvalho\" }, { \"id\": \"26\", \"url\": \"https://www.flickr.com/photos/alessandrogrussu/28330491011/\", \"title\": \"FIN_189 - Pyhä-Luosto\", \"author\": \"Alessandro Grussu\" }, { \"id\": \"27\", \"url\": \"https://www.flickr.com/photos/juhoholmi/30118947266/\", \"title\": \"Jylkynoja 2\", \"author\": \"Juho Holmi\" }], \"total\": 27 };\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'poem',\n  data: function data() {\n    return {\n      wordlist: [],\n      canvas: {},\n      backgroundInfo: { author: \"placeholder\", url: \"www.site.com\" }\n    };\n  },\n\n\n  components: {\n    Word: __WEBPACK_IMPORTED_MODULE_1__Word___default.a\n  },\n\n  mounted: function mounted() {\n    var self = this;\n    this.canvas = new fabric.Canvas('canvas');\n    this.canvas.backgroundColor = 'white';\n    this.changeBG();\n\n    this.canvas.on('mouse:down', function (options) {\n      if (options.target === null) {\n        var now = new Date().getTime();\n        var lastTouch = self.lastTouch || now + 1;\n        var delta = now - lastTouch;\n        if (delta < 300 && delta > 0) {\n          self.lastTouch = null;\n          self.addWord(\"random\", self.canvas.getPointer(options.e));\n        } else {\n          self.lastTouch = now;\n        }\n      }\n    });\n  },\n\n\n  methods: {\n    addWord: function addWord(type, coord) {\n      if (type === \"random\") {\n        var wordclasses = [\"adjectives\", \"verbs\", \"substantives\", \"misc\"];\n        var wordType = wordclasses[Math.floor(Math.random() * wordclasses.length)];\n        this.wordlist.push({ type: wordType, startPos: coord });\n      } else {\n        this.wordlist.push({ type: type, startPos: coord });\n      }\n    },\n    saveCanvas: function saveCanvas() {\n      var self = this;\n      var imageData = this.canvas.toDataURL('png');\n      var xhr = new XMLHttpRequest();\n\n      xhr.open('POST', 'upload', true);\n      xhr.setRequestHeader(\"Content-type\", \"application/json\");\n      xhr.onload = function () {\n        if (xhr.status === 200) {} else {\n          alert('An error occurred!');\n        }\n      };\n      var data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ \"image\": imageData });\n\n      xhr.send(data);\n    },\n    changeBG: function changeBG() {\n      var totalNum = credits.total;\n      var randNum = Math.floor(1 + Math.random() * totalNum);\n      var randomImage = '../static/' + randNum + '.jpg';\n      console.log(credits.arr[randNum + 1]);\n      this.backgroundInfo.author = credits.arr[randNum - 1].author;\n      this.backgroundInfo.url = credits.arr[randNum - 1].url;\n      var self = this;\n      fabric.Image.fromURL(randomImage, function (img) {\n        self.canvas.backgroundImage = img;\n        self.canvas.backgroundImage.width = 800;\n        self.canvas.backgroundImage.height = 600;\n        self.canvas.renderAll();\n      });\n    }\n  }\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar words = {\n  \"adjectives\": [\"kaunis\", \"vihreä\", \"runsas\", \"kuulas\", \"viileä\", \"kultainen\", \"synkkä\", \"herkkä\", \"rehevä\", \"kellertävä\", \"kuulas\", \"herkkä\", \"elegantti\", \"multainen\", \"erityinen\", \"ainutlaatuinen\", \"energinen\", \"tuoksuva\", \"kasvava\", \"elävä\", \"voimakas\", \"rehevä\", \"räjähtävä\", \"hiuksenhieno\", \"tummanvihreä\", \"keväänvihreä\", \"taivaansininen\", \"hämärä\", \"synkkä\", \"musta\", \"tumma\", \"kylmä\", \"viileä\", \"kostea\", \"multaisa\", \"huojuva\", \"karhea\", \"ainutlaatuinen\", \"miehekäs\", \"naisellinen\", \"koskettava\", \"pistelevä\", \"kasvava\", \"kuhiseva\", \"kirkas\", \"ainoa\", \"ajankohtainen\", \"kahiseva\", \"riipaiseva\", \"runollinen\", \"uskalias\", \"ujo\", \"satumainen\", \"aavemainen\", \"autio\", \"yksinäinen\", \"tyhjä\", \"punertava\", \"maukas\", \"kypsyvä\", \"ikivanha\", \"aava\", \"aakea\", \"hiljainen\", \"koskematon\", \"hengellinen\", \"antoisa\", \"kallisarvoinen\", \"suomalainen\", \"kotimainen\", \"luonnollinen\", \"terveellinen\", \"kaiho\", \"surullinen\", \"uupunut\", \"vilkas\", \"nöyrä\"],\n  \"verbs\": [\"poimia\", \"paistaa\", \"kaatua\", \"kasvaa\", \"herätä\", \"nousta\", \"koittaa\", \"uskaltaa\", \"mennä\", \"antaa\", \"joustaa\", \"elää\", \"nukkua\", \"painautua\", \"koskettaa\", \"kuulla\", \"unohtaa\", \"muistaa\", \"kasvattaa\", \"juosta\", \"kuultaa\", \"paistaa\", \"mennä\", \"laulaa\", \"kuulla\", \"rentoutua\", \"nauttia\", \"syödä\", \"kerätä\", \"kulkea\", \"vaeltaa\", \"hengähtää\", \"tuntea\", \"katsoa\", \"tarkkailla\", \"kuunnella\", \"huutaa\", \"piiloutua\", \"kadota\", \"hämärtyä\", \"kadottaa\", \"piilottaa\", \"löytää\", \"poimia\", \"kurottaa\", \"käpertyä\", \"istahtaa\", \"istua\", \"kulkea\", \"taivaltaa\", \"lipua\", \"hidastella\", \"kiiruhtaa\", \"hiljentyä\", \"jäljittää\", \"tuudittaa\", \"irroittaa\", \"havista\", \"visertää\", \"ulvoa\", \"kohista\", \"sataa\", \"myrskytä\"],\n  \"substantives\": [\"koivu\", \"mänty\", \"metsä\", \"honka\", \"petäjä\", \"kangas\", \"sammal\", \"oksa\", \"käpy\", \"sieni\", \"lehti\", \"marja\", \"luonto\", \"elämä\", \"syksy\", \"kevät\", \"kesä\", \"talvi\", \"hanki\", \"lumi\", \"jälki\", \"orava\", \"eläin\", \"jänis\", \"hirvi\", \"poro\", \"karhu\", \"otso\", \"kallio\", \"kivi\", \"ravinto\", \"henki\", \"kehto\", \"lapsi\", \"poikanen\", \"susi\", \"muurahainen\", \"kanto\", \"eväät\", \"termospullo\", \"neulanen\", \"korpi\", \"metso\", \"teeri\", \"karpalo\", \"puolukka\", \"mustikka\", \"kukka\", \"nuppu\", \"aromi\", \"auringonvalo\", \"sade\", \"usva\", \"halla\", \"tihku\", \"sumu\", \"kumisaappaat\", \"kyy\", \"lintu\", \"eläin\", \"tiainen\", \"korppi\", \"sammal\", \"koski\", \"pelto\", \"laakso\", \"vaara\", \"pesä\", \"koti\", \"kolo\", \"vuori\", \"muisto\", \"hetki\", \"tuoksu\", \"savi\", \"kangas\", \"aurinko\", \"kuu\", \"tähdet\", \"taivas\", \"pilvet\", \"suo\", \"räme\", \"oja\"],\n  \"misc\": [\"jos\", \"joskus\", \"kerran\", \"aina\", \"missä\", \"siellä\", \"kenet\", \"miksi\", \"emme\", \"voi\", \"minut\", \"sinut\", \"meidät\", \"teidät\", \"heidät\", \"kenen\", \"ainoa\", \"mennyt\", \"tuleva\", \"ken\", \"vaikka\", \"kuin\", \"kunnes\", \"asti\", \"joku\", \"jonkun\", \"jotain\", \"jollei\", \"minne\", \"milloin\", \"silloin\", \"siellä\", \"sinne\", \"siksi\", \"miksi\", \"miksei\", \"on\", \"eilinen\", \"tänään\", \"ikuinen\", \"aina\", \"ehkei\", \"ei\", \"kyllä\", \"ehkä\", \"jopa\", \"kuin\"]\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'word',\n  data: function data() {\n    return {\n      word: \"init\",\n      textElement: {},\n      controlElement: {},\n      elementGroup: {}\n    };\n  },\n\n\n  props: ['type', 'canvas'],\n\n  created: function created() {\n    var self = this;\n    this.word = words[this.type.type][Math.floor(Math.random() * words[this.type.type].length)];\n\n    this.textElement = new fabric.IText(this.word, {\n      left: self.type.startPos.x,\n      top: self.type.startPos.y,\n      textBackgroundColor: 'rgb(0,0,0)',\n      fill: 'rgb(255,255,255)',\n      fontFamily: 'Courier',\n      angle: 10 - Math.random() * 20\n    });\n\n    this.controlElement = new fabric.Text('Uusi\\narvo', {\n      fill: '#28b',\n      fontSize: 25,\n      fontFamily: 'Courier',\n      textBackgroundColor: '#FFF',\n      hasControls: false,\n      lockMovementX: true,\n      lockMovementY: true,\n      selectable: false,\n      hoverCursor: 'pointer',\n      visible: false\n    });\n\n    this.removalElement = new fabric.Text('Poista\\nsana', {\n      fill: '#F00',\n      fontSize: 25,\n      fontFamily: 'Courier',\n      textBackgroundColor: '#FFF',\n      hasControls: false,\n      lockMovementX: true,\n      lockMovementY: true,\n      selectable: false,\n      hoverCursor: 'pointer',\n      visible: false\n    });\n\n    this.canvas.add(this.textElement);\n    this.canvas.add(this.controlElement);\n    this.canvas.add(this.removalElement);\n    this.moveControlElementsTo(this.textElement);\n    this.canvas.renderAll();\n\n    this.canvas.on('object:moving', function (evt) {\n      if (evt.target === self.textElement) {\n        self.moveControlElementsTo(evt.target);\n      }\n    });\n\n    this.canvas.on('object:rotating', function (evt) {\n      if (evt.target === self.textElement) {\n        self.controlElement.setVisible(false);\n        self.removalElement.setVisible(false);\n      }\n    });\n\n    this.canvas.on('mouse:down', function (options) {\n      if (options.target === self.controlElement) {\n        self.refresh();\n      } else if (options.target === self.removalElement) {\n        self.textElement.remove();\n        self.controlElement.remove();\n        self.removalElement.remove();\n      } else if (options.target === self.textElement) {\n        self.controlElement.setVisible(true);\n        self.removalElement.setVisible(true);\n      } else {\n        self.controlElement.setVisible(false);\n        self.removalElement.setVisible(false);\n      }\n    });\n\n    this.canvas.on('object:selected', function (options) {\n      if (options.target === self.textElement) {\n        self.controlElement.setVisible(true);\n        self.removalElement.setVisible(true);\n      }\n    });\n  },\n\n  methods: {\n    refresh: function refresh() {\n      var wordclasses = [\"adjectives\", \"verbs\", \"substantives\", \"misc\"];\n      var wordType = wordclasses[Math.floor(Math.random() * wordclasses.length)];\n      this.word = words[wordType][Math.floor(Math.random() * words[wordType].length)];\n      this.textElement.setText(this.word);\n      this.canvas.renderAll();\n    },\n    moveControlElementsTo: function moveControlElementsTo(el) {\n      this.controlElement.setLeft(el.getLeft() - 80);\n      this.controlElement.setTop(el.getTop() - 40);\n      this.controlElement.setCoords();\n\n      this.removalElement.setLeft(el.getLeft() - 80);\n      this.removalElement.setTop(el.getTop() + 40);\n      this.removalElement.setCoords();\n\n      this.canvas.renderAll();\n    }\n  }\n};\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(12)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(4),\n  /* template */\n  __webpack_require__(17),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(5),\n  /* template */\n  __webpack_require__(16),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('poem')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"poem\"\n  }, [_c('p', [_vm._v(\"Tuplaklikkaamalla voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.\")]), _vm._v(\" \"), _c('canvas', {\n    attrs: {\n      \"id\": \"canvas\",\n      \"width\": \"600\",\n      \"height\": \"400\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.wordlist), function(item) {\n    return _c('word', {\n      attrs: {\n        \"type\": item,\n        \"canvas\": _vm.canvas\n      }\n    })\n  }), _vm._v(\" \"), _c('p', [_vm._v(\"Valokuvaaja: \"), _c('a', {\n    attrs: {\n      \"href\": _vm.backgroundInfo.url\n    }\n  }, [_vm._v(_vm._s(_vm.backgroundInfo.author))])]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.saveCanvas()\n      }\n    }\n  }, [_vm._v(\"Lähetä galleriaan\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.changeBG()\n      }\n    }\n  }, [_vm._v(\"Vaihda taustakuva\")])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 18 */,\n/* 19 */,\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ })\n],[20]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.3752d836237070baaf83.js","\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter?id=data-v-1e1b5b1c!./../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!./../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!./../node_modules/vue-loader/lib/template-compiler?id=data-v-1e1b5b1c!./../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 1\n// module chunks = 0","<template>\n  <div id=\"app\" class=\"container\">\n    <poem></poem>\n  </div>\n</template>\n\n<script>\nimport Poem from './components/Poem'\nimport normalize from './assets/normalize.css'\nimport skeleton from './assets/skeleton.css'\n\nexport default {\n  name: 'app',\n\n  components: {\n    Poem\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.menu {\n  padding-top: 2em;\n}\n\n.pull-right {\n  float: right;\n}\n\n.m-t {\n  margin-top: 1em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?8c949f72","<template>\n  <div class=\"poem\">\n    <p>Tuplaklikkaamalla voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.</p>\n    <canvas id=\"canvas\" width=\"600\" height=\"400\"></canvas>\n    <word v-for=\"item in wordlist\" v-bind:type=\"item\" :canvas=\"canvas\"></word>\n\n    <p>Valokuvaaja: <a :href=\"backgroundInfo.url\">{{ backgroundInfo.author }}</a></p>\n    <button @click=\"saveCanvas()\">Lähetä galleriaan</button>\n    <button @click=\"changeBG()\">Vaihda taustakuva</button>\n\n  </div>\n</template>\n\n<script>\nimport Word from './Word'\n\nvar credits = {\"arr\": [\n    {\"id\": \"1\", \"url\": \"https://www.flickr.com/photos/lifeforweb/3849452779/\", \"title\": \"Forest\", \"author\": \"Igor Gusarov\"},\n    {\"id\": \"2\", \"url\": \"https://www.flickr.com/photos/67135676@N04/32462123610/\", \"title\": \"Forest\", \"author\": \"Minna Halonen\"},\n    {\"id\": \"3\", \"url\": \"https://www.flickr.com/photos/80429160@N07/7879988542/\", \"title\": \"Forest\", \"author\": \"Daniela\"},\n    {\"id\": \"4\", \"url\": \"https://www.flickr.com/photos/105637782@N04/10327378784/\", \"title\": \"Forest\", \"author\": \"Mariya Chorna\"},\n    {\"id\": \"5\", \"url\": \"https://www.flickr.com/photos/a-herzog/15253502399/\", \"title\": \"autumn forest\", \"author\": \"Stiller Beobachter\"},\n    {\"id\": \"6\", \"url\": \"https://www.flickr.com/photos/andrewmalone/6965495286/\", \"title\": \"Forest\", \"author\": \"Andrew Malone\"},\n    {\"id\": \"7\", \"url\": \"https://www.flickr.com/photos/davidstrom/15516370872/\", \"title\": \"Forest\", \"author\": \"David Strom\"},\n    {\"id\": \"8\", \"url\": \"https://www.flickr.com/photos/zsoolt/3545650978/\", \"title\": \"Forest\", \"author\": \"zsoolt\"},\n    {\"id\": \"9\", \"url\": \"https://www.flickr.com/photos/neil_roger/3087249891/\", \"title\": \"Forest\", \"author\": \"neil roger\"},\n    {\"id\": \"10\", \"url\": \"https://www.flickr.com/photos/foto-kouba/6299871278/\", \"title\": \"Primeval forest\", \"author\": \"Jaroslav Kuba\"},\n    {\"id\": \"11\", \"url\": \"https://www.flickr.com/photos/three_if_by_bike/3063055501/\", \"title\": \"The Woods\", \"author\": \"ThreeIfByBike\"},\n    {\"id\": \"12\", \"url\": \"https://www.flickr.com/photos/craigcloutier/3140160186/\", \"title\": \"deep dark forest\", \"author\": \"craig Cloutier\"},\n    {\"id\": \"13\", \"url\": \"https://www.flickr.com/photos/damienz/7682053216/\", \"title\": \"Forest moment\", \"author\": \"Daniel Sjöström\"},\n    {\"id\": \"14\", \"url\": \"https://www.flickr.com/photos/mladjenovic_n/8594411923/\", \"title\": \"1232 Forest\", \"author\": \"nebojsa mladjenovic\"},\n    {\"id\": \"15\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/10889431856/\", \"title\": \"Birch Forest\", \"author\": \"Miguel Virkkunen Carvalho\"},\n    {\"id\": \"16\", \"url\": \"https://www.flickr.com/photos/andrein/2811470968/\", \"title\": \"woods\", \"author\": \"Andrei Niemimäki\"},\n    {\"id\": \"17\", \"url\": \"https://www.flickr.com/photos/villefi/13981738045/\", \"title\": \"DSC04383\", \"author\": \"Ville .fi\"},\n    {\"id\": \"18\", \"url\": \"https://www.flickr.com/photos/villoks/6572345877/\", \"title\": \"Luminen metsä\", \"author\": \"Ville Oksanen\"},\n    {\"id\": \"19\", \"url\": \"https://www.flickr.com/photos/villoks/6575100589/\", \"title\": \"metsä 029\", \"author\": \"Ville Oksanen\"},\n    {\"id\": \"20\", \"url\": \"https://www.flickr.com/photos/maaniemi/15328229697/\", \"title\": \"Metsä aidan takana\", \"author\": \"Tero Maaniemi\"},\n    {\"id\": \"21\", \"url\": \"https://www.flickr.com/photos/david_e_smith/3240592407/\", \"title\": \"Winter forest, January 2009\", \"author\": \"Dave_S.\"},\n    {\"id\": \"22\", \"url\": \"https://www.flickr.com/photos/jannefoo/3242177422/\", \"title\": \"Lujabetonilta etelään\", \"author\": \"Janne\"},\n    {\"id\": \"23\", \"url\": \"https://www.flickr.com/photos/jannefoo/4568614299/\", \"title\": \"Aurinko laskee harjun taakse\", \"author\": \"Janne\"},\n    {\"id\": \"24\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/11385819296/\", \"title\": \"Koli National Park\", \"author\": \"Miguel Virkkunen Carvalho\"},\n    {\"id\": \"25\", \"url\": \"https://www.flickr.com/photos/miguelvirkkunen/6280958247/\", \"title\": \"Forest Path\", \"author\": \"Miguel Virkkunen Carvalho\"},\n    {\"id\": \"26\", \"url\": \"https://www.flickr.com/photos/alessandrogrussu/28330491011/\", \"title\": \"FIN_189 - Pyhä-Luosto\", \"author\": \"Alessandro Grussu\"},\n    {\"id\": \"27\", \"url\": \"https://www.flickr.com/photos/juhoholmi/30118947266/\", \"title\": \"Jylkynoja 2\", \"author\": \"Juho Holmi\"}\n], \"total\": 27 }\n\n\nexport default {\n  name: 'poem',\n  data () {\n    return {\n      wordlist: [],\n      canvas: {},\n      backgroundInfo: {author: \"placeholder\", url: \"www.site.com\"}\n    }\n  },\n\n  components: {\n    Word\n  },\n\n  mounted () {\n    var self = this;\n    this.canvas = new fabric.Canvas('canvas');\n    this.canvas.backgroundColor = 'white';\n    this.changeBG();\n\n    this.canvas.on('mouse:down', function(options) {\n      if(options.target === null) {\n        var now = new Date().getTime();\n        var lastTouch = self.lastTouch || now + 1;\n        var delta = now - lastTouch;\n        if (delta < 300 && delta > 0) {\n            self.lastTouch = null;\n            self.addWord(\"random\", self.canvas.getPointer(options.e));\n        } else {\n            self.lastTouch = now;\n        }\n      }\n    });\n  },\n\n  methods: {\n    addWord: function(type, coord) {\n      if(type === \"random\") {\n        var wordclasses = [\"adjectives\", \"verbs\", \"substantives\", \"misc\"];\n        var wordType = wordclasses[Math.floor(Math.random()*wordclasses.length)];\n        this.wordlist.push({ type: wordType, startPos: coord });\n      } else {\n        this.wordlist.push({ type: type, startPos: coord });\n      }\n    },\n    saveCanvas: function() {\n      var self = this;\n      var imageData = this.canvas.toDataURL('png');\n      var xhr = new XMLHttpRequest();\n\n      xhr.open('POST', 'upload', true);\n      xhr.setRequestHeader(\"Content-type\", \"application/json\");\n      xhr.onload = function () {\n        if (xhr.status === 200) {\n        } else {\n          alert('An error occurred!');\n        }\n      };\n      var data = JSON.stringify({ \"image\": imageData });\n\n      xhr.send(data);\n\n    },\n    changeBG: function() {\n      var totalNum = credits.total;\n      var randNum = Math.floor(1 + Math.random()*totalNum);\n      var randomImage = '../static/' + randNum + '.jpg';\n      console.log(credits.arr[randNum + 1]);\n      this.backgroundInfo.author = credits.arr[randNum - 1].author;\n      this.backgroundInfo.url = credits.arr[randNum - 1].url;\n      var self = this;\n      fabric.Image.fromURL(randomImage, function(img) {\n        self.canvas.backgroundImage = img;\n        self.canvas.backgroundImage.width = 800;\n        self.canvas.backgroundImage.height = 600;\n        self.canvas.renderAll();\n      });\n    }\n  }\n}\n</script>\n\n<style>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.canvas-container {\n   margin: 0 auto !important;\n   padding-bottom: 2em;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Poem.vue?1db14772","<template>\n</template>\n\n<script>\nvar words = {\n\"adjectives\": [\n \"kaunis\",\n \"vihreä\",\n \"runsas\",\n \"kuulas\",\n \"viileä\",\n \"kultainen\",\n \"synkkä\",\n \"herkkä\",\n \"rehevä\",\n \"kellertävä\",\n \"kuulas\",\n \"herkkä\",\n \"elegantti\",\n \"multainen\",\n \"erityinen\",\n \"ainutlaatuinen\",\n \"energinen\",\n \"tuoksuva\",\n \"kasvava\",\n \"elävä\",\n \"voimakas\",\n \"rehevä\",\n \"räjähtävä\",\n \"hiuksenhieno\",\n \"tummanvihreä\",\n \"keväänvihreä\",\n \"taivaansininen\",\n \"hämärä\",\n \"synkkä\",\n \"musta\",\n \"tumma\",\n \"kylmä\",\n \"viileä\",\n \"kostea\",\n \"multaisa\",\n \"huojuva\",\n \"karhea\",\n \"ainutlaatuinen\",\n \"miehekäs\",\n \"naisellinen\",\n \"koskettava\",\n \"pistelevä\",\n \"kasvava\",\n \"kuhiseva\",\n \"kirkas\",\n \"ainoa\",\n \"ajankohtainen\",\n \"kahiseva\",\n \"riipaiseva\",\n \"runollinen\",\n \"uskalias\",\n \"ujo\",\n \"satumainen\",\n \"aavemainen\",\n \"autio\",\n \"yksinäinen\",\n \"tyhjä\",\n \"punertava\",\n \"maukas\",\n \"kypsyvä\",\n \"ikivanha\",\n \"aava\",\n \"aakea\",\n \"hiljainen\",\n \"koskematon\",\n \"hengellinen\",\n \"antoisa\",\n \"kallisarvoinen\",\n \"suomalainen\",\n \"kotimainen\",\n \"luonnollinen\",\n \"terveellinen\",\n \"kaiho\",\n \"surullinen\",\n \"uupunut\",\n \"vilkas\",\n \"nöyrä\"\n],\n\"verbs\": [\n \"poimia\",\n \"paistaa\",\n \"kaatua\",\n \"kasvaa\",\n \"herätä\",\n \"nousta\",\n \"koittaa\",\n \"uskaltaa\",\n \"mennä\",\n \"antaa\",\n \"joustaa\",\n \"elää\",\n \"nukkua\",\n \"painautua\",\n \"koskettaa\",\n \"kuulla\",\n \"unohtaa\",\n \"muistaa\",\n \"kasvattaa\",\n \"juosta\",\n \"kuultaa\",\n \"paistaa\",\n \"mennä\",\n \"laulaa\",\n \"kuulla\",\n \"rentoutua\",\n \"nauttia\",\n \"syödä\",\n \"kerätä\",\n \"kulkea\",\n \"vaeltaa\",\n \"hengähtää\",\n \"tuntea\",\n \"katsoa\",\n \"tarkkailla\",\n \"kuunnella\",\n \"huutaa\",\n \"piiloutua\",\n \"kadota\",\n \"hämärtyä\",\n \"kadottaa\",\n \"piilottaa\",\n \"löytää\",\n \"poimia\",\n \"kurottaa\",\n \"käpertyä\",\n \"istahtaa\",\n \"istua\",\n \"kulkea\",\n \"taivaltaa\",\n \"lipua\",\n \"hidastella\",\n \"kiiruhtaa\",\n \"hiljentyä\",\n \"jäljittää\",\n \"tuudittaa\",\n \"irroittaa\",\n \"havista\",\n \"visertää\",\n \"ulvoa\",\n \"kohista\",\n \"sataa\",\n \"myrskytä\"\n],\n\"substantives\": [\n \"koivu\",\n \"mänty\",\n \"metsä\",\n \"honka\",\n \"petäjä\",\n \"kangas\",\n \"sammal\",\n \"oksa\",\n \"käpy\",\n \"sieni\",\n \"lehti\",\n \"marja\",\n \"luonto\",\n \"elämä\",\n \"syksy\",\n \"kevät\",\n \"kesä\",\n \"talvi\",\n \"hanki\",\n \"lumi\",\n \"jälki\",\n \"orava\",\n \"eläin\",\n \"jänis\",\n \"hirvi\",\n \"poro\",\n \"karhu\",\n \"otso\",\n \"kallio\",\n \"kivi\",\n \"ravinto\",\n \"henki\",\n \"kehto\",\n \"lapsi\",\n \"poikanen\",\n \"susi\",\n \"muurahainen\",\n \"kanto\",\n \"eväät\",\n \"termospullo\",\n \"neulanen\",\n \"korpi\",\n \"metso\",\n \"teeri\",\n \"karpalo\",\n \"puolukka\",\n \"mustikka\",\n \"kukka\",\n \"nuppu\",\n \"aromi\",\n \"auringonvalo\",\n \"sade\",\n \"usva\",\n \"halla\",\n \"tihku\",\n \"sumu\",\n \"kumisaappaat\",\n \"kyy\",\n \"lintu\",\n \"eläin\",\n \"tiainen\",\n \"korppi\",\n \"sammal\",\n \"koski\",\n \"pelto\",\n \"laakso\",\n \"vaara\",\n \"pesä\",\n \"koti\",\n \"kolo\",\n \"vuori\",\n \"muisto\",\n \"hetki\",\n \"tuoksu\",\n \"savi\",\n \"kangas\",\n \"aurinko\",\n \"kuu\",\n \"tähdet\",\n \"taivas\",\n \"pilvet\",\n \"suo\",\n \"räme\",\n \"oja\"\n],\n\"misc\": [\n \"jos\",\n \"joskus\",\n \"kerran\",\n \"aina\",\n \"missä\",\n \"siellä\",\n \"kenet\",\n \"miksi\",\n \"emme\",\n \"voi\",\n \"minut\",\n \"sinut\",\n \"meidät\",\n \"teidät\",\n \"heidät\",\n \"kenen\",\n \"ainoa\",\n \"mennyt\",\n \"tuleva\",\n \"ken\",\n \"vaikka\",\n \"kuin\",\n \"kunnes\",\n \"asti\",\n \"joku\",\n \"jonkun\",\n \"jotain\",\n \"jollei\",\n \"minne\",\n \"milloin\",\n \"silloin\",\n \"siellä\",\n \"sinne\",\n \"siksi\",\n \"miksi\",\n \"miksei\",\n \"on\",\n \"eilinen\",\n \"tänään\",\n \"ikuinen\",\n \"aina\",\n \"ehkei\",\n \"ei\",\n \"kyllä\",\n \"ehkä\",\n \"jopa\",\n \"kuin\"\n]\n};\n\nexport default {\n  name: 'word',\n  data () {\n    return {\n      word: \"init\",\n      textElement: {},\n      controlElement: {},\n      elementGroup: {}\n    }\n  },\n\n  props: ['type', 'canvas'],\n\n  created: function () {\n    var self = this;\n    this.word = words[this.type.type][Math.floor(Math.random()*words[this.type.type].length)];\n\n    this.textElement = new fabric.IText(this.word, {\n      left: self.type.startPos.x,\n      top: self.type.startPos.y,\n      textBackgroundColor: 'rgb(0,0,0)',\n      fill: 'rgb(255,255,255)',\n      fontFamily: 'Courier',\n      angle: (10-(Math.random()*20))\n    });\n\n    this.controlElement = new fabric.Text('Uusi\\narvo', {\n      fill: '#28b',\n      fontSize: 25,\n      fontFamily: 'Courier',\n      textBackgroundColor: '#FFF',\n      hasControls: false,\n      lockMovementX: true,\n      lockMovementY: true,\n      selectable: false,\n      hoverCursor: 'pointer',\n      visible: false\n    });\n\n    this.removalElement = new fabric.Text('Poista\\nsana', {\n      fill: '#F00',\n      fontSize: 25,\n      fontFamily: 'Courier',\n      textBackgroundColor: '#FFF',\n      hasControls: false,\n      lockMovementX: true,\n      lockMovementY: true,\n      selectable: false,\n      hoverCursor: 'pointer',\n      visible: false\n    });\n\n    this.canvas.add(this.textElement);\n    this.canvas.add(this.controlElement);\n    this.canvas.add(this.removalElement);\n    this.moveControlElementsTo(this.textElement);\n    this.canvas.renderAll();\n\n    this.canvas.on('object:moving', function(evt) {\n      if (evt.target === self.textElement) {\n        self.moveControlElementsTo(evt.target);\n      }\n    });\n\n    this.canvas.on('object:rotating', function(evt) {\n      if (evt.target === self.textElement) {\n        self.controlElement.setVisible(false);\n        self.removalElement.setVisible(false);\n      }\n    });\n\n    this.canvas.on('mouse:down', function(options) {\n      if (options.target === self.controlElement) {\n        self.refresh();\n      } else if (options.target === self.removalElement) {\n        self.textElement.remove();\n        self.controlElement.remove();\n        self.removalElement.remove();\n      } else if (options.target === self.textElement) {\n        self.controlElement.setVisible(true);\n        self.removalElement.setVisible(true);\n      } else {\n        self.controlElement.setVisible(false);\n        self.removalElement.setVisible(false);\n      }\n    });\n\n    this.canvas.on('object:selected', function(options) {\n      if (options.target === self.textElement) {\n        self.controlElement.setVisible(true);\n        self.removalElement.setVisible(true);\n      }\n    });\n  },\n\n  methods: {\n    refresh: function() {\n      var wordclasses = [\"adjectives\", \"verbs\", \"substantives\", \"misc\"];\n      var wordType = wordclasses[Math.floor(Math.random()*wordclasses.length)];\n      this.word = words[wordType][Math.floor(Math.random()*words[wordType].length)];\n      this.textElement.setText(this.word);\n      this.canvas.renderAll()\n    },\n    moveControlElementsTo: function(el) {\n      this.controlElement.setLeft(el.getLeft() - 80);\n      this.controlElement.setTop(el.getTop() - 40);\n      this.controlElement.setCoords();\n\n      this.removalElement.setLeft(el.getLeft() - 80);\n      this.removalElement.setTop(el.getTop() + 40);\n      this.removalElement.setCoords();\n\n      this.canvas.renderAll()\n    }\n  }\n}\n\n\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Word.vue?3cfa137e","\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3822a1d1!./../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Poem.vue\")\n\nvar Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./Poem.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-3822a1d1!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./Poem.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Poem.vue\n// module id = 13\n// module chunks = 0","var Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./Word.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-24fb0874!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./Word.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Word.vue\n// module id = 14\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('poem')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-1e1b5b1c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 15\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-24fb0874!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Word.vue\n// module id = 16\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"poem\"\n  }, [_c('p', [_vm._v(\"Tuplaklikkaamalla voit lisätä sanoja. Voit arpoa uuden sanan tai poistaa nykyisiä. Tuplaklikkaamalla sanaa voit muokata sitä kirjoittamalla, jolloin esim. sanan taivutus onnistuu.\")]), _vm._v(\" \"), _c('canvas', {\n    attrs: {\n      \"id\": \"canvas\",\n      \"width\": \"600\",\n      \"height\": \"400\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.wordlist), function(item) {\n    return _c('word', {\n      attrs: {\n        \"type\": item,\n        \"canvas\": _vm.canvas\n      }\n    })\n  }), _vm._v(\" \"), _c('p', [_vm._v(\"Valokuvaaja: \"), _c('a', {\n    attrs: {\n      \"href\": _vm.backgroundInfo.url\n    }\n  }, [_vm._v(_vm._s(_vm.backgroundInfo.author))])]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.saveCanvas()\n      }\n    }\n  }, [_vm._v(\"Lähetä galleriaan\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.changeBG()\n      }\n    }\n  }, [_vm._v(\"Vaihda taustakuva\")])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3822a1d1!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Poem.vue\n// module id = 17\n// module chunks = 0","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}